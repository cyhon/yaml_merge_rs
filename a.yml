---
global:
  scrape_interval: 30s
  evaluation_interval: 30s
  external_labels:
    monitor: "codelab-monitor"
rule_files:
  - /prometheus/rules/homeserver.rules.yml
  - /prometheus/rules/nginx_gateway.rules.yml
  - /prometheus/rules/docker_host.rules.yml
  - /prometheus/rules/container.rules.yml
  - /prometheus/rules/service_status.rules.yml
  - /prometheus/rules/api_prober.rules.yml
  - /prometheus/rules/nodejs_express.rules.yml
  - /prometheus/rules/kotlin_vertx.rules.yml
alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - "alertmanager:9093"
scrape_configs:
  - job_name: homeserver
    metrics_path: /_synapse/metrics
    static_configs:
      - targets:
          - "staff-server.finochat:9092"
          - "retail-server.finochat:9092"
  - job_name: prometheus
    static_configs:
      - targets:
          - "localhost:9090"